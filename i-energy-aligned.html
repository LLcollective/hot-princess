<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Energy Aligned | Lace & Lime™</title>

  <!-- Global + Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tenor+Sans&family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="global.css" />
  <link rel="stylesheet" href="page.css" />
</head>

<body class="action-defined-page">

  <!-- ===== HEADER ===== -->
  <header class="ll-nav">
    <div class="header-wrap">
      <a class="logo-link" href="index.html">
        <h1 class="logo-small-centered">
          <span class="lace">lace</span>
          <span class="amp">&amp;</span>
          <span class="lime">LIME</span>
        </h1>
      </a>
    </div>
  </header>

  <!-- ===== ACTION DEFINED ===== -->
  <section class="builder-container">
    <div class="builder-header animate">
      <span class="eyebrow">Check-in</span>
      <h1>Energy Aligned</h1>
      <p>Clarify how your goals, energy, and direction align. <br>Use this space to map what steady action looks like for you.</p>

    </div>

    <form id="builderForm">
      <div class="prompt-block">
      <p class="intro-note">Your notes stay private and saved in your browser. Clear them at the end when you’re ready to start fresh.</p> <br>  

     <label for="focus">Where do I feel most clear about what I’m building?</label>
        <textarea id="focus" name="focus" placeholder="What feels most in sync or already working?"></textarea>
        <div class="builder-actions">
          <button type="button" class="btn-lime" onclick="saveDraft('focus')">Save</button>
        </div>
      </div>

      <div class="prompt-block">
        <label for="support">What kind of structure helps me stay consistent?</label>
        <textarea id="support" name="support" placeholder="What habits, systems, or people help me follow through?"></textarea>
        <div class="builder-actions">
          <button type="button" class="btn-lime" onclick="saveDraft('support')">Save</button>
        </div>
      </div>

      <div class="prompt-block">
        <label for="stretch">Where could I stretch or take aligned risk?</label>
        <textarea id="stretch" name="stretch" placeholder="What feels ready for growth or experimentation?"></textarea>
        <div class="builder-actions">
          <button type="button" class="btn-lime" onclick="saveDraft('stretch')">Save</button>
        </div>
      </div>

      <div class="prompt-block">
        <label for="nextstep">What’s one small step that would help me feel grounded in progress?</label>
        <textarea id="nextstep" name="nextstep" placeholder="What action could I take to move clarity into motion?"></textarea>
        <div class="builder-actions">
          <button type="button" class="btn-lime" onclick="saveDraft('nextstep')">Save</button>
        </div>
      </div>

      <div class="builder-actions">
        <button type="button" class="btn-pink" onclick="generateSummary()">View Summary</button>
        <button type="button" id="clearDrafts" class="btn-lime-link">Clear Saved Entries</button>
      </div>
    </form>

    <div class="output" id="output">
      <h3>Your Action Summary</h3>
      <p id="summaryText"></p>

      <div class="cta-block animate">
        <h3>Next Step</h3>
        <p>Ready to turn awareness into action?</p>
        <a href="action-defined-i.html" class="btn-lime-link">Action Defined →</a>
      </div>
    </div>
  </section>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer>
    <div class="wrap-heavy">
      <p class="legal">
        Lace & Lime™ · <span class="anchor">Energy Aligned, Action Defined™</span>
        © 2025 Lace & Lime™ LLC. All rights reserved. ·
        <a href="privacy-terms.html">Privacy and Terms</a>
      </p>
    </div>
  </footer>

  <!-- ===== SCRIPT ===== -->
  <script>
  // === Auto-Save + Manual Save ===
  document.addEventListener("DOMContentLoaded", () => {
    const textareas = document.querySelectorAll("textarea");
    textareas.forEach((ta) => {
      const key = `laceandlime_${ta.id}`;
      const saved = localStorage.getItem(key);
      if (saved) ta.value = saved;
      ta.addEventListener("input", () => localStorage.setItem(key, ta.value));
    });
  });

  function saveDraft(id) {
    const ta = document.getElementById(id);
    if (ta) {
      localStorage.setItem(`laceandlime_${id}`, ta.value);
      ta.style.boxShadow = "0 0 0 2px var(--lime-med)";
      setTimeout(() => (ta.style.boxShadow = ""), 800);
    }
  }

  const clearBtn = document.querySelector("#clearDrafts");
  if (clearBtn) {
    clearBtn.addEventListener("click", () => {
      document.querySelectorAll("textarea").forEach((ta) =>
        localStorage.removeItem(`laceandlime_${ta.id}`)
      );
      alert("All saved entries have been cleared. Refresh to start again.");
      location.reload();
    });
  }

  // === Generate Summary ===
  function generateSummary() {
    const focus = document.getElementById("focus").value.trim();
    const support = document.getElementById("support").value.trim();
    const stretch = document.getElementById("stretch").value.trim();
    const nextstep = document.getElementById("nextstep").value.trim();
    const output = document.getElementById("summaryText");
    const container = document.getElementById("output");

    let summary = "";

    if (focus) summary += `I feel most clear when ${focus}. `;
    if (support) summary += `The structure that supports me is ${support}. `;
    if (stretch) summary += `I'm ready to stretch by ${stretch}. `;
    if (nextstep) summary += `My next grounded step is ${nextstep}.`;

    output.textContent = summary || "Start adding your reflections above to shape your next actions.";
    container.style.display = "block";
    container.scrollIntoView({ behavior: "smooth", block: "start" });
  }
  </script>

</body>
</html>
