<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lace & Limeâ„¢ Spiral Experience</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: "Raleway", sans-serif;
      background: #f9f8f6;
      background-image: repeating-linear-gradient(
        to bottom,
        #f9f8f6,
        #f9f8f6 26px,
        #a8a5a3 27px
      );
      background-size: 100% 28px;
      color: #3F4A3C;
    }

    .spiral-container {
      position: relative;
      width: 95vmin;
      height: 95vmin;  /* keep square for spiral */
      max-width: 95vw;
      max-height: 95vh;
    }

    svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    .spiral-path {
      fill: none;
      stroke-linecap: round;
      stroke-width: 4;
    }

    .spiral-link {
      position: absolute;
      transform: translate(-50%, -50%) scale(0.9);
      background: linear-gradient(145deg, #fdfcf7, #f3f1ee);
      color: #3F4A3C;
      border: 1px solid rgba(63,74,60,0.15);
      font-weight: 600;
      font-size: 14px;
      padding: 6px 14px;
      border-radius: 18px;
      box-shadow: 0 4px 8px rgba(63,74,60,0.15);
      opacity: 0;
      animation: floatIn .9s ease forwards;
      cursor: pointer;
      z-index: 10;
    }

    .spiral-link:hover {
      color: #F2C9CF;
      background: linear-gradient(145deg, #fff5f7, #fdfdfc);
      transform: translate(-50%, -50%) scale(1.08);
      box-shadow: 0 6px 14px rgba(242, 201, 207, 0.35);
    }

    @keyframes floatIn {
      from { opacity: 0; transform: translate(-50%, -40%) scale(0.9); }
      to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
  </style>
</head>
<body>
  <div class="spiral-container">
    <svg id="spiral-svg">
      <path id="spiral" class="spiral-path" stroke="#3F4A3C"/>
      <path id="spiral-overlay" class="spiral-path" stroke="#F2C9CF"/>
    </svg>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const base = document.getElementById("spiral");
      const overlay = document.getElementById("spiral-overlay");
      const svg = document.getElementById("spiral-svg");
      const container = document.querySelector(".spiral-container");

      // Responsive size based on viewport
      const size = Math.min(window.innerWidth, window.innerHeight) * 0.95;
      const cx = size / 2, cy = size / 2;

      // Spiral params
      const a = 10, b = 20;  // growth
      const turns = 8;       // more loops to "keep going"

      // Update SVG viewBox
      svg.setAttribute("viewBox", `0 0 ${size} ${size}`);

      // Generate spiral points
      const points = [];
      for (let t = 0; t < Math.PI*2*turns; t += 0.1) {
        const r = a + b * t;
        const x = cx + r * Math.cos(t);
        const y = cy + r * Math.sin(t);
        points.push([x,y]);
      }

      const d = "M" + points.map(p => p.join(",")).join(" L");
      base.setAttribute("d", d);
      overlay.setAttribute("d", d);

      // Path animation setup
      const length = base.getTotalLength();
      [base, overlay].forEach(path => {
        path.style.strokeDasharray = length;
        path.style.strokeDashoffset = length;
      });

      // Step 1: Black spiral draws first
      base.animate(
        [{ strokeDashoffset: length }, { strokeDashoffset: 0 }],
        { duration: 6000, easing: "ease-in-out", fill: "forwards" }
      ).onfinish = () => {
        // Step 2: Pink overlay animates back and forth
        function animateOverlay(forward=true) {
          overlay.animate(
            forward
              ? [{ strokeDashoffset: length }, { strokeDashoffset: 0 }]
              : [{ strokeDashoffset: 0 }, { strokeDashoffset: length }],
            { duration: 6000, easing: "ease-in-out", fill: "forwards" }
          ).onfinish = () => setTimeout(() => animateOverlay(!forward), 400);
        }
        animateOverlay(true);
      };

      // Spiral nav links
      const linkLabels = [
        { text: "Laced Notes", href: "lacednotes.html" },
        { text: "Laced Together", href: "booknow.html" },
        { text: "Approach", href: "approach.html" },
        { text: "Limeboard", href: "limeboard.html" },
        { text: "Founder", href: "founder.html" },
        { text: "Contact", href: "contact.html" }
      ];

      const step = Math.floor(points.length / (linkLabels.length+1));
      linkLabels.forEach((link,i) => {
        const [x,y] = points[i*step];
        const el = document.createElement("div");
        el.className = "spiral-link";
        el.textContent = link.text;
        el.style.left = (x/size*100) + "%";
        el.style.top  = (y/size*100) + "%";
        el.style.animationDelay = `${1+i*0.4}s`;
        el.onclick = () => location.href = link.href;
        container.appendChild(el);
      });
    });
  </script>
</body>
</html>
