<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lace & Lime â€¢ Brand Assessment</title>
  <link rel="stylesheet" href="global.css">

  <style>
  /* ===== PAGE-SPECIFIC: BRAND ASSESSMENT ===== */
  body {
    background: #f9f8f6;
  }
  .wrap {
    max-width: 700px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }
  header {
    text-align: center;
    margin-bottom: 2rem;
  }
  header h1 {
    font-size: 2rem;
    margin-bottom: .5rem;
    color: #3F4A3C;
  }
  header p {
    font-size: 1rem;
    color: #5f708a;
  }
  form {
    background: #fff;
    border-radius: 14px;
    padding: 2rem;
    box-shadow: 0 6px 14px rgba(0,0,0,.08);
  }
  .question {
    margin-bottom: 2rem;
  }
  .question label {
    font-weight: 600;
    display: block;
    margin-bottom: .5rem;
    color: #24324a;
  }
  input[type="range"] {
    width: 100%;
  }
  .value-display {
    text-align: right;
    font-size: .85rem;
    color: #5f708a;
  }
  button {
    background: #3F4A3C;
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: .6rem 1.2rem;
    cursor: pointer;
    font-size: 1rem;
    margin-top: 1rem;
  }
  button:hover {
    background: #2c352b;
  }
  .results {
    margin-top: 2rem;
    padding: 1.5rem;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 6px 14px rgba(0,0,0,.06);
  }
  .results h2 {
    margin-top: 0;
  }
  .score {
    font-size: 2rem;
    font-weight: 700;
    margin: .5rem 0;
    color: #7B6CF6;
  }
  .comparison {
    margin-top: 1.5rem;
    font-size: .95rem;
    color: #465770;
  }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Brand Assessment</h1>
      <p>Check your baseline now, then return in 3 months for your post-assessment.</p>
    </header>

    <form id="assessment-form">
      <div class="question">
        <label for="clarity">Clarity: How clear is your brand story?</label>
        <input type="range" id="clarity" min="1" max="5" value="3">
        <div class="value-display">Value: <span id="clarity-val">3</span></div>
      </div>
      <div class="question">
        <label for="systems">Systems: How confident are you in your processes?</label>
        <input type="range" id="systems" min="1" max="5" value="3">
        <div class="value-display">Value: <span id="systems-val">3</span></div>
      </div>
      <div class="question">
        <label for="visibility">Visibility: How visible is your brand to others?</label>
        <input type="range" id="visibility" min="1" max="5" value="3">
        <div class="value-display">Value: <span id="visibility-val">3</span></div>
      </div>
      <div class="question">
        <label for="alignment">Alignment: How true does your brand feel to your values?</label>
        <input type="range" id="alignment" min="1" max="5" value="3">
        <div class="value-display">Value: <span id="alignment-val">3</span></div>
      </div>

      <button type="submit">Save Assessment</button>
    </form>

    <div class="results" id="results" style="display:none;">
      <h2>Your Results</h2>
      <p class="score" id="score"></p>
      <div class="comparison" id="comparison"></div>
    </div>
  </div>

  <script>
  // ===== Brand Assessment Logic =====
  const sliders = document.querySelectorAll("input[type='range']");
  sliders.forEach(slider => {
    const valDisplay = document.getElementById(slider.id + "-val");
    slider.addEventListener("input", () => {
      valDisplay.textContent = slider.value;
    });
  });

  const form = document.getElementById("assessment-form");
  const results = document.getElementById("results");
  const scoreEl = document.getElementById("score");
  const comparisonEl = document.getElementById("comparison");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const values = Array.from(sliders).map(s => parseInt(s.value));
    const avg = (values.reduce((a,b) => a+b,0) / values.length).toFixed(1);

    // Check if baseline exists
    const baseline = localStorage.getItem("brand-baseline");
    if (!baseline) {
      localStorage.setItem("brand-baseline", avg);
      scoreEl.textContent = `Baseline Score: ${avg}/5`;
      comparisonEl.textContent = "Come back in 3 months to take your post-assessment.";
    } else {
      localStorage.setItem("brand-post", avg);
      const post = avg;
      const change = (post - baseline).toFixed(1);
      scoreEl.textContent = `Post Score: ${post}/5`;
      comparisonEl.textContent = `Your baseline was ${baseline}/5. Change: ${change >= 0 ? "+" : ""}${change}.`;
    }
    results.style.display = "block";
  });

  // Load saved results
  window.addEventListener("DOMContentLoaded", () => {
    const baseline = localStorage.getItem("brand-baseline");
    const post = localStorage.getItem("brand-post");
    if (baseline) {
      results.style.display = "block";
      if (post) {
        const change = (post - baseline).toFixed(1);
        scoreEl.textContent = `Post Score: ${post}/5`;
        comparisonEl.textContent = `Your baseline was ${baseline}/5. Change: ${change >= 0 ? "+" : ""}${change}.`;
      } else {
        scoreEl.textContent = `Baseline Score: ${baseline}/5`;
        comparisonEl.textContent = "Come back in 3 months to take your post-assessment.";
      }
    }
  });
  </script>
</body>
</html>
